
\let\oldvec\vec% Store \vec in \oldvec
\documentclass{llncs}
\let\vec\oldvec% Restore \vec from \oldvec
\usepackage{llncsdoc}

% % Build
% \usepackage{subfiles}

% % Math
 \usepackage{amsmath}
 \usepackage{amssymb}
 \usepackage{math}
 \usepackage{mathtools}

% % Graphics
 \usepackage{graphicx}

% % Text stuff
 \usepackage{listings}
 \usepackage[T1]{fontenc}
 \usepackage[utf8]{inputenc}
 \usepackage{url}
 \usepackage[usenames]{color}

% % PL Formulas
 \usepackage{latexsym}
 \usepackage{bcprules}
 \usepackage{prooftree}


% % Layout
 \usepackage{xspace}% space in macros

% % Makes tables look beautiful
 \usepackage{booktabs}
 \usepackage{tabularx}

 \input{macros}

% ----- begin macros
\lstdefinelanguage{Scala}%
{morekeywords={abstract,%
  case,catch,char,class,%
  def,else,extends,final,for,%
  if,import,implicit,%
  match,module,%
  new,null,%
  object,override,%
  %package,% commented out for a specific example
  private,protected,public,%
  for,public,return,super,%
  this,throw,trait,try,type,%
  val,var,%
  with,while,%
  yield,%
  macro%
  },%
  sensitive,%
  morecomment=[l]//,%
  morecomment=[s]{/*}{*/},%
  morestring=[b]",%
  morestring=[b]',%
  showstringspaces=false%
}[keywords,comments,strings]%

\lstset{language=Scala,%
  mathescape=true,%
%  columns=[c]fixed,%
%  basewidth={0.5em, 0.40em},%
  aboveskip=1pt,%\smallskipamount,
  belowskip=1pt,%\negsmallskipamount,
  lineskip=-0.2pt,
  basewidth={0.54em, 0.4em},%
%  basicstyle=\ttfamily,%\scriptsize,%
  basicstyle=\footnotesize\ttfamily,
  keywordstyle=\sffamily\bfseries%
%  keywordstyle=\sffamily\bfseries,%
%  xleftmargin=0.5cm
}


\newcommand{\commentstyle}[1]{\slseries{#1}}
\newcommand{\keywordstyle}[1]{\bfseries{#1}}

% Code
\lstnewenvironment{listing}{\lstset{language=Scala}}{}
\lstnewenvironment{listingsmall}{\lstset{language=Scala,basicstyle=\small\ttfamily}}{}
\lstnewenvironment{listingtiny}{\lstset{language=Scala,basicstyle=\scriptsize\ttfamily}}{}

\newcommand{\scode}[1]{\lstinline[language=Scala,columns=fixed,basicstyle=\ttfamily,keywordstyle=\ttfamily]|#1|}
\newcommand{\jcode}[1]{\lstinline[language=Java,flexiblecolumns=true,basicstyle=\ttfamily]{#1}}

\newcommand{\code}[1]{\scode{#1}}
\newcommand{\sct}[1]{(\S \ref{#1})}

% TODOs:
\newif\ifshowTodos
\showTodostrue
%\showTodosfalse % Uncomment this to hide all TODOs.
\ifshowTodos
\newcommand{\todo}[1]{{\color{red} \textbf{[TODO: #1 ]}}}
\else
\newcommand{\todo}[1]{}
\fi
% paper specific commands


\begin{document}

\title{Scala Inline}

\maketitle

\begin{abstract}
\cite{scala_macros}
\end{abstract}
% \category{D.3.3}{Programming Languages}{Language Constructs and Features}

\keywords
Partial Evaluation, Macros

\input{intro.tex}
\input{calculus.tex}

\bibliographystyle{plain}
\bibliography{vjovanov-lib}

\end{document}



