
\section{Syntax}
\begin{figure}[H]
\begin{center}$
\begin{array}{l@{\hspace{0.2mm}}}
\begin{array}{l@{\hspace{10mm}}l}

  t ::=                     & \lindent{\mbox{Terms:}}            \\
  \gap x                    & \mbox{identifier}                  \\
  \gap (x: \i{T}) \ra t     & \mbox{function}                    \\
  \gap t(t)                 & \mbox{application}                 \\
  \gap \{ \seq{x = t} \}    & \mbox{record}                      \\
  \gap t.x                  & \mbox{selection}                   \\
  \gap \ct t                & \mbox{inlining starting point}     \\

  T ::=                     & \lindent{\mbox{Types:}}            \\
  \gap \i{T} \ra \j{T}      & \mbox{function type}               \\
  \gap \{ \seq{x: \i{T}} \} & \mbox{record type}                 \\

  \i{T},\ \j{T},\ \k{T} ::= & \lindent{\mbox{Inlineable Types:}} \\ 
  \gap T                    & \mbox{dynamic type}                \\
  \gap \static{T}           & \mbox{static type}                 \\
  \gap \mayInline{T}        & \mbox{maybe inline type}           \\
  \gap \inline{T}           & \mbox{must inline type}            \\

\end{array}
\end{array}
$\end{center}
\caption{}
\end{figure}

\section{Typing}

\begin{figure}[H]
  \infrule[\textsc{T-Ident}]
  {x: \i{T} \in \Gamma}
  {\Gamma \ts x: \i{T}}

  \infrule[\textsc{T-Func}]
  {\Gamma,\ x: \i{T_1} \ts t: \j{T_2}}
  {\Gamma \ts (x: \i{T_1}) \ra t : \static{\i{T_1} \ra \j{T_2}}}

  \infrule[\textsc{T-Rec}]
  {\Gamma \ts \seq{t: \i{T}}}
  {\Gamma \ts \{ \seq{x = t} \} : \static{\{\seq{x: \i{T}}\}}}

  \infrule[\textsc{T-App}]
  {\Gamma \ts t_1: \i{(\j{T_1} \ra \k{T_2})} \ \ \ \ \Gamma \ts t_2: \j{T_2}}
  {\Gamma \ts t_1 (t_2) : (i \barwedge j \barwedge k) T_2}

  \infrule[\textsc{T-Sel}]
  {\Gamma \ts t: \i{\{ x = \j{T_1}, \seq{y = \k{T_2}} \}}}
  {\Gamma \ts t.x : (i \barwedge j) T_1}

  \infrule[\textsc{T-Inline}]
  {\Gamma \ts t: \static{T}}
  {\Gamma \ts \ct{t}: \inline{T}}
  
  \caption{$\Gamma \ts t: \i{T}$}
\end{figure}

\begin{figure}[H]
  TODO
  \caption{Intersection of inlineable types $\i{T_1} \barwedge \j{T_2}$}
\end{figure}

\begin{figure}[H]
  TODO
  \caption{Intersection of types ${T_1} \wedge {T_2}$}
\end{figure}
